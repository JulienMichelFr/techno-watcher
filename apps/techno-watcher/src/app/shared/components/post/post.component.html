<div class="flex flex-col rounded bg-white shadow-md p-2 gap-2" [class.animate-pulse]="!post">
  <div class="flex items-center gap-4">
    <ng-container *ngIf="post; else loadingHeaderTemplate">
      <span>@{{ post.author.username }}</span
      ><span>{{ post.createdAt | dateAgo }}</span>
    </ng-container>
    <ng-template #loadingHeaderTemplate>
      <div class="h-4 w-20 bg-green-800 rounded"></div>
      <div class="h-4 w-20 bg-green-800 rounded"></div>
    </ng-template>
  </div>
  <div class="flex items-start gap-4 pt-2 pb-2">
    <mat-icon [matBadge]="post?.commentCount" color="accent">forum</mat-icon>
    <ng-container *ngIf="post; else loadingBodyTemplate">
      <div>{{ post.title }}</div>
    </ng-container>
    <ng-template #loadingBodyTemplate>
      <div class="h-4 w-full bg-green-800 rounded"></div>
    </ng-template>
  </div>
  <div class="flex items-center gap-2">
    <ng-container *ngIf="post; else loadingTagsTemplate">
      <techno-watcher-tag *ngFor="let tag of post?.tags; trackBy: trackByIndex" [tag]="tag"></techno-watcher-tag>
    </ng-container>
    <ng-template #loadingTagsTemplate>
      <div class="h-4 w-8 bg-green-800 rounded"></div>
      <div class="h-4 w-8 bg-green-800 rounded"></div>
      <div class="h-4 w-8 bg-green-800 rounded"></div>
    </ng-template>
  </div>
</div>
